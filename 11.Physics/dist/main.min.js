(()=>{"use strict";var e,n={4801:(e,n,t)=>{t(853);var o=t(6075),i=t(8012),a=t(3653);function r(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var d=s((function e(n){var t,o,i,a=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.mouseMoved,n.addEventListener("mousedown",(function(e){t=e.clientX,o=e.clientY,i=Date.now()})),n.addEventListener("mouseup",(function(e){var n=Math.abs(e.clientX-t),r=Math.abs(e.clientY-o),s=Date.now()-i;a.mouseMoved=n>5||r>5||s>500}))}));function c(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=n.scene,this.cannonWorld=n.cannonWorld,this.geometry=n.geometry,this.material=n.material,this.x=n.x,this.y=n.y,this.z=n.z,this.scale=n.scale,this.mesh=new o.Kj0(this.geometry,this.material),this.mesh.scale.set(this.scale,this.scale,this.scale),this.mesh.castShadow=!0,this.mesh.position.set(this.x,this.y,this.z),this.scene.add(this.mesh),this.setCannonBody()}var n,t,i;return n=e,(t=[{key:"setCannonBody",value:function(){var e=new a.aL(.5*this.scale);this.cannonBody=new a.uT({mass:1,position:new a.AO(this.x,this.y,this.z),shape:e}),this.cannonWorld.addBody(this.cannonBody)}}])&&c(n.prototype,t),i&&c(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();var l=t(4418);t(4994);function w(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(n){var t=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=n.scene,this.cannonWorld=n.cannonWorld,this.index=n.index,this.width=n.width||.6,this.height=n.height||1,this.depth=n.depth||.2,this.x=n.x||0,this.y=n.y||.5,this.z=n.z||0,this.rotationY=n.rotationY||0,n.gltfLoader.load("./models/domino.glb",(function(e){t.modelMesh=e.scene.children[0],t.modelMesh.name="".concat(t.index,"번 도미노"),t.modelMesh.castShadow=!0,t.modelMesh.position.set(t.x,t.y,t.z),t.scene.add(t.modelMesh),t.setCannonBody()}))}var n,t,o;return n=e,(t=[{key:"setCannonBody",value:function(){var e=new a.xu(new a.AO(this.width/2,this.height/2,this.depth/2));this.cannonBody=new a.uT({mass:1,position:new a.AO(this.x,this.y,this.z),shape:e}),this.cannonBody.quaternion.setFromAxisAngle(new a.AO(0,1,0),this.rotationY),this.modelMesh.cannonBody=this.cannonBody,this.cannonWorld.addBody(this.cannonBody)}}])&&w(n.prototype,t),o&&w(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();!function(){var e=document.querySelector("#three-canvas6"),n=new o.CP7({canvas:e,antialias:!0});n.setSize(window.innerWidth,window.innerHeight),n.setPixelRatio(window.devicePixelRatio>1?2:1),n.shadowMap.enabled=!0,n.shadowMap.type=o.ntZ;var t=new o.xsS,r=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);r.position.y=1.5,r.position.z=4,t.add(r);var s=new o.Mig("white",.5);t.add(s);var c=new o.Ox3("white",1);c.position.x=1,c.position.z=2,c.castShadow=!0,t.add(c),new i.z(r,n.domElement);var l=new a.q3;l.gravity.set(0,-9.8,0),l.allowSleep=!0,l.broadphase=new a.BQ(l);var w=new a.F5("default"),u=(new a.F5("rubber"),new a.F5("iron"),new a.kp(w,w,{friction:100,restitution:.3}));l.defaultContactMaterial=u;var p=new a.JO,v=new a.uT({mass:0,position:new a.AO(0,0,0),shape:p,material:w});v.quaternion.setFromAxisAngle(new a.AO(-1,0,0),Math.PI/2),l.addBody(v);var y=new o.Kj0(new o._12(10,10),new o.Wid({color:"slategray"}));y.rotation.x=-Math.PI/2,y.receiveShadow=!0,t.add(y);var f=[],m=new o.xo$(.5),b=new o.Wid({color:"seagreen"}),g=new o.SUY,x=new Audio("./sounds/boing.mp3");function M(e){e.contact.getImpactVelocityAlongNormal()>3&&(x.currentTime=0,x.play())}window.addEventListener("resize",(function(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight),n.render(t,r)})),e.addEventListener("click",(function(){var e=new h({scene:t,cannonWorld:l,geometry:m,material:b,x:2*(Math.random()-.5),y:5*Math.random()+2,z:2*(Math.random()-.5),scale:Math.random()+.2});f.push(e),e.cannonBody.addEventListener("collide",M)})),new d(e);var O=document.createElement("button");O.style.cssText="position: absolute; left: 20px; top: 20px; font-size: 20px",O.innerHTML="삭제",document.body.append(O),O.addEventListener("click",(function(){f.forEach((function(e){e.cannonBody.removeEventListener("collide",M),l.removeBody(e.cannonBody),t.remove(e.mesh)}))})),function e(){var o=g.getDelta(),i=1/60;o<.01&&(i=1/120),l.step(i,o,3),f.forEach((function(e){e.mesh.position.copy(e.cannonBody.position),e.mesh.quaternion.copy(e.cannonBody.quaternion)})),n.render(t,r),n.setAnimationLoop(e)}()}(),function(){var e=document.querySelector("#three-canvas7"),n=new o.CP7({canvas:e,antialias:!0});n.setSize(window.innerWidth,window.innerHeight),n.setPixelRatio(window.devicePixelRatio>1?2:1),n.shadowMap.enabled=!0,n.shadowMap.type=o.ntZ;var t=new o.xsS,r=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);r.position.x=-5,r.position.y=5,r.position.z=10,t.add(r);var s=new o.Mig("white",.5);t.add(s);var c=new o.Ox3("white",1);c.position.x=1,c.position.z=2,c.castShadow=!0,t.add(c),new i.z(r,n.domElement);var h=new l.E,w=new a.q3;w.gravity.set(0,-9.8,0),w.broadphase=new a.BQ(w);var p=new a.F5("default"),v=(new a.F5("rubber"),new a.F5("iron"),new a.kp(p,p,{friction:.01,restitution:.9}));w.defaultContactMaterial=v;var y=new a.JO,f=new a.uT({mass:0,position:new a.AO(0,0,0),shape:y,material:p});f.quaternion.setFromAxisAngle(new a.AO(-1,0,0),Math.PI/2),w.addBody(f);var m=new o.Kj0(new o._12(50,50),new o.Wid({color:"slategray"}));m.rotation.x=-Math.PI/2,m.receiveShadow=!0,t.add(m);for(var b,g=[],x=-3;x<17;x++)b=new u({index:x,scene:t,cannonWorld:w,gltfLoader:h,z:.8*-x}),g.push(b);var M=new o.SUY,O=new o.iMs,B=new o.FM8;window.addEventListener("resize",(function(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight),n.render(t,r)})),e.addEventListener("click",(function(n){z.mouseMoved||(B.x=n.clientX/e.clientWidth*2-1,B.y=-(n.clientY/e.clientHeight*2-1),function(){O.setFromCamera(B,r);var e=O.intersectObjects(t.children);e[0].object.cannonBody&&e[0].object.cannonBody.applyForce(new a.AO(0,0,-100),new a.AO(0,0,0))}())}));var z=new d(e);!function e(){var o=M.getDelta(),i=1/60;o<.01&&(i=1/120),w.step(i,o,3),g.forEach((function(e){e.cannonBody&&(e.modelMesh.position.copy(e.cannonBody.position),e.modelMesh.quaternion.copy(e.cannonBody.quaternion))})),n.render(t,r),n.setAnimationLoop(e)}()}()}},t={};function o(e){var i=t[e];if(void 0!==i)return i.exports;var a=t[e]={exports:{}};return n[e](a,a.exports,o),a.exports}o.m=n,e=[],o.O=(n,t,i,a)=>{if(!t){var r=1/0;for(h=0;h<e.length;h++){for(var[t,i,a]=e[h],s=!0,d=0;d<t.length;d++)(!1&a||r>=a)&&Object.keys(o.O).every((e=>o.O[e](t[d])))?t.splice(d--,1):(s=!1,a<r&&(r=a));if(s){e.splice(h--,1);var c=i();void 0!==c&&(n=c)}}return n}a=a||0;for(var h=e.length;h>0&&e[h-1][2]>a;h--)e[h]=e[h-1];e[h]=[t,i,a]},o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={179:0};o.O.j=n=>0===e[n];var n=(n,t)=>{var i,a,[r,s,d]=t,c=0;if(r.some((n=>0!==e[n]))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(d)var h=d(o)}for(n&&n(t);c<r.length;c++)a=r[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(h)},t=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var i=o.O(void 0,[906],(()=>o(4801)));i=o.O(i)})();